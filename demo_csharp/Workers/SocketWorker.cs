using Common;
using demo_csharp.Workers.IWorkService;
using Model.Socket;
using System;
using System.Text;
using System.Linq;

namespace demo_csharp.Workers
{
    public class SocketWorker : IMasterWorker
    {
        public void Do()
        {
            string temp = "1820  14000S17019730G1320003506王丽莉                                                                                              秀沁路132弄3号506室                                                                                  12202008681       692               11        110000000002112          0000000000000          0000000000000000000000168300000000037951202007660       681               21        210000000004032          0000000000000          0000000000000000000000321300000000072451202006639       660               21        210000000004032          0000000000000          0000000000000000000000321300000000072451202005623       639               16        160000000003072          0000000000000          0000000000000000000000244800000000055201202004609       623               14        140000000002688          0000000000000          0000000000000000000000214200000000048301202003593       609               16        160000000003072          0000000000000          0000000000000000000000244800000000055201202002578       593               15        150000000002880          0000000000000          0000000000000000000000229500000000051751202001566       578               12        120000000002304          0000000000000          0000000000000000000000183600000000041401201912555       566               11         80000000001536         30000000000990          0000000000000000000000168300000000042091201911546       555                9         90000000001728          0000000000000          0000000000000000000000137700000000031051201910536       546               10        100000000001920          0000000000000          0000000000000000000000153000000000034501201909524       536               12        120000000002304          0000000000000          0000000000000000000000183600000000041401@@";
            byte[] tempByteArray = Encoding.GetEncoding("GBK").GetBytes(temp);

            Bill bill = MessageAnalysor.AnalyseToBill(tempByteArray);

            Console.WriteLine(tempByteArray.Length);
        }
    }
}
